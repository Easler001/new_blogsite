---
title: "Hugoを使ったブログサイトの作成"
date: 2023-01-10T10:17:42+09:00
draft: false
---

このブログサイトを作るにあたって、実際にやってみた方法を書いてみます。
タイトルにもあるようにHugoを含め、Github・Netrifyの3つを軸にして作成しました。

作業中にやってしまったミス等も含めてできる限り書いていこうと思います。  

※今回の内容はmacにて作業しています。それを念頭に入れてご覧いただければ幸いです。

__も　く　じ__
- [各項目の補足](#各項目の補足)
  - [Hugo](#hugo)
  - [静的サイト](#静的サイト)
  - [動的サイト](#動的サイト)
  - [GitHub](#github)
  - [Netlify](#netlify)
- [ブログを作ろう](#ブログを作ろう)
  - [①hugoを始めよう](#hugoを始めよう)
  - [②GitHubとNetlifyも登録しよう](#githubとnetlifyも登録しよう)
  - [③hugoでの流れ](#hugoでの流れ)
  - [③-1フォルダ作成](#-1フォルダ作成)
  - [③-2テーマを決めよう](#-2テーマを決めよう)
  - [③-3 GitHubと連携しよう](#-3-githubと連携しよう)
  - [④Netrifyと連携して公開しよう!](#netrifyと連携して公開しよう)
  - [手順のまとめ](#手順のまとめ)




# 各項目の補足

## Hugo
> __静的サイトジェネレーターと呼ばれる。基本上ターミナル上で操作する。
詳細は後述だが、hugoというコマンドにてpublic=静的ディレクトリを排出する。これがいわゆるwebサイトと言われるモノを構成している。__ _(HUGOの場合、ローカル環境(個人のコンピューター内に構築された環境)ではHUGOの動的機能を使って動的にサイトを開発し、成果物の出力時に動的要素を全て静的要素（html,css,js,img等）として出力。  
生成された成果物にはサーバサイドの処理を含まないため、サイトの表示速度は高速になり、サーバサイドの処理が無い分セキュリティリスクが減る。)_

## 静的サイト
> __html,css,JS,imgなどの集合体。動的な処理をしないファイル。大まかに言えばwebサイトがこれに該当する。(いつどこでアクセスしても毎回同じものが表示される、HTMLファイルで作成されたWebページのこと。)静的サイトをホスティングするサービスの一例としてNetlifyがある。__

## 動的サイト
> __JS(Node.js)・PHP・Ruby・Java等の集合体。こちらは動的な処理を行うサイト。
アクセスしたときの状況に応じて異なる内容が表示されるWebページのこと。
ユーザーが書き込むことで内容が増える掲示板サイトやブログ、表示内容がユーザーごとに違うショッピングサイトや会員制サイトなどが動的ページ。動的サイトをホスティングするサービスの一例としてはherokuがある。__

## GitHub
> __ソースコードをホスティング(サーバーをネット経由でレンタルすること)するプラットフォーム。ソフトウェア開発者とコードについて共有(HTML,CSS,JSetc…)できるので、プログラミングをしていくには避けて通れないツール。__

## Netlify
> __静的サイトをホスティングするwebサービス。上記のhugo作成したブログ記事をここを通して外部に向けて公開することができる。__


自分なりに噛み砕いた言い方をすると…

___hugoは自分のパソコンの中で爆速でサイトを作れるスペースで、githubはサイト作った時のコード諸々を保管しておく場所。___

___でもhugoだけだと自分のパソコンの中だけでしかそのサイトは見れないからサイトをドメインとかをゲットして外部の人たちにも見てもらおうっていう場所がNetlifyという感じ。___

___自分自身勘違いしそうだったのは、サーバーとかではなくサイトのジェネレーター(生成場)、つまり静的サイトの生産工場ということ。___

ここからはhugoを使ってブログと記事の作成からgithubとNetlifyの連携、サイト公開までの一連の流れをまとめてみます。

# ブログを作ろう

## ①hugoを始めよう
参照:(https://takaken.tokyo/dev/hugo/install/hugo-install/)

方法…Mac使用の場合、Homebrewをインストールします。以下をターミナル(コマンド)でコピペすればインストール可能です。(HomebrewはmacOS向けのパッケージを管理するシステムのこと)

以下のコマンドをターミナルに入力するとインストールされる。

 `brew install hugo`

## ②GitHubとNetlifyも登録しよう

これらのインストールはhugoよりも簡単です

はじめにそれぞれのホームページにアクセスして自分のメールアドレスとパスワードを設定して登録まで終わらせましょう。

github:(https://github.com/)  
Netlify:(https://www.netlify.com/)

※近頃は日本語訳も増えてきた印象ですが、両サイトとも基本的に殆どが英語なのでよく分からない内容はサイト翻訳を積極的に使うことを推奨します。

個人的なおすすめはdeepLという翻訳サービスです。翻訳精度が高水準なため重宝しています。  
deepL:(https://www.deepl.com/ja/translator)  

最終的にGithubにpushしたブログのレポジトリをNetlifyに提携させます  

インストールできたら早速起動してみましょう(連携については後述)
## ③hugoでの流れ

①hugoのフォルダ(リポジトリ)を作る→②ブログページのテーマを決める→③githubと連携させる

## ③-1フォルダ作成
自分のデスクトップ上にフォルダ(リポジトリ)を作ります

今回はターミナル(コマンド)で作ります。(画面上二本指で同時押しでも作成可)

ターミナルで次のように入力します↓

`cd desktop  …デスクトップに移動。`  
`cd hugo new site 【作りたいブログタイトル】　…デスクトップ上にディレクトリが作成される。`  
※コマンド補足cd 指定の場所へ移動する。　前の場所に戻りたい時は　cd ..

## ③-2テーマを決めよう
フォルダを作っただけでは、もちろん画面は真っ白のまま。実際に画面を表示するためのページを決めないといけません。

なので、ここではページレイアウトつまりテーマを決めてしまいましょう。  

いざテーマを探すといってもどうすればいいか迷ってしまうものですが、  
とりあえず`hugo themes`と検索してしまいましょう。テーマがたくさん補完されたページがヒットします。

実際に私が参照したページはこちら:(https://themes.gohugo.io/)  

気に入ったテーマが見つかったら、あとはそのページにテーマの導入方法が描かれてるのでそれを実行しましょう。  
以下では私がテーマを導入した手順を一例として挙げています。

`(1)cd themes   …③-1で作ったフォルダの中にthemesというフォルダがあるのでターミナルでcdコマンドを使ってその階層まで移動します`  
__【補足】そのフォルダの中身を確認したい時は lsと入力すると、その中にあるモノを表示してくれる__ 

`(2)git clone https://github.com/huyb1991/hugo-lamp`  
__このブログのテーマがこれで取り込まれました__  
__【補足】git clone…リポジトリ(ファイル等何らかの「保管場所」)のクローンを作る。__

`(3)rm -rf hugo-lamp/.git`  
__使わないデータは削除!__  
__※使いたいテーマによっては削除しないこともあります__

## ③-3 GitHubと連携しよう
ちゃんと連携出来るかのチェックも兼ねてここからGitHubの連携を行います。
 ___ここでは前提としてhugoの全フォルダではなく、hugoにて生成するpublicフォルダだけ連携させます___

【補足】GitHubの準備  
> GitHubのマイページの左上にある`New`をクリック  
`New`は`New Repository`のこと。  
新しいレポジトリ(ファイル)を作成する。  
Create a new repositoryのページでRepository nameの設定。  
※この時、Repository nameは同名にしておくほうが判別しやすいです

ここからターミナルでコマンドを入力していきます

>__hugo__  
このコマンドにてpublicフォルダが生成される。このフォルダをgithubに連携させるのが今回の最初の目標

>__git init  ここでgit用のレポジトリ(フォルダ)を作ってGitHubとつなげる下準備をする__  


>__git add public  これで更新されたデータを追加させる__  
__☆☆このコマンドは記事を更新する時毎回必要!!__　  
 ___!git addの注意!___  
__git add . というコマンドでhugoの全データを追加できるが③-3の前提条件の通りpublicフォルダだけを追加します__
　

>__git branch -M main__  
ブランチ(変更したデータの履歴をたどっていく枝みたいなモノ)を作る。

>git remote add origin https://github.com/ユーザー名/GitHubのファイル名.git  
自分のパソコン環境(ローカル環境という)から外部環境(リモート環境)につなげる用意をする  
※これも最初しか行わないので注意!　　

>git commit -m 'コメント'  
GitHubではファイル名と一緒にコメントを付けることが出来ます。  
ファイルの変更や追加とかできるコマンドになります。  


 補足　git commit
> 追加・変更したファイルをGitに登録するためのコマンド　ブログ更新したらその都度コメントを変えながらコミットする!  
> ex:初めてのコミットの時は git commit -m 'first commit' みたいな感じ

>git push origin master (またはgit push -u origin main)  
これで上で書いたcommitの内容を更新して完了!  
エラーが起こらなければGitHubのパスワード入力が求められるので間違えないように入力しよう。


## ④Netrifyと連携して公開しよう!
最後にNetrifyと連携させて実際にブログを公開します！　　

>Netlifyのマイページにアクセスして`New site from Git`をクリック  
これで提携させるファイルを選択します  
選択は左下のGitHubの🐱マークをクリック

>GitHubを選択したらアカウント確認画面が出てくるのでログインしましょう  
そこから今回のGitHubのファイルを選択して、Deploy siteを押します

以上がサイトが生成されるまでの流れです。  
サイト用のアドレスが設定されているのでクリックしてサイトが正しく表示されたらクリア!!

## 手順のまとめ  
>最初:hugo → git init → git add public → git commit -m 'コメント' → git branch -M main → git remote add origin https://github.com/ユーザー名/GitHubのファイル名.git → git push origin master (またはgit push -u origin main)  

>2回目以降(記事更新時):hugo → git add public → git commit -m 'コメント' → git push origin master (またはgit push -u origin main)
